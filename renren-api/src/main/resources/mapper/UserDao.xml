<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.modules.login.dao.UserDao">

    <select id="userLogin" resultType="io.renren.common.entity.PageData">
        SELECT user_id,`username`,`password`,salt
        FROM sys_user
        WHERE 
        `username` = #{username}
    </select>

    <select id="getinfoByIdNotContentRoleDept" resultType="io.renren.common.entity.PageData">
        SELECT
        sys_user.user_id,sys_user.username,sys_user.college,
        sys_user.collegetie,sys_user.gender,sys_user.descs,filetable.filepath,sys_user.`name`,
        filetable.`filepath` headpath
        FROM sys_user
        LEFT JOIN filetable ON filetable.id = sys_user.fileid
        WHERE user_id = #{id}
    </select>
    <insert id="saveuserwehartinfo" useGeneratedKeys="true" keyProperty="user_id">
      insert into sys_user (`name`,`gender`,`fileid`) values (#{name},#{gender},#{fileid});
    </insert>

</mapper>