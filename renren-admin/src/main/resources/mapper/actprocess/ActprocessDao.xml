<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ActprocessDao">


   <select id="selectActprocessForActivity" resultType="io.renren.common.entity.PageData">
        SELECT `actid`,`proid`,`processnode`,`states` FROM `actprocess` WHERE actid = #{actid,jdbcType=INTEGER} ORDER BY `proid`
    </select>

    <insert id="add">
      insert into `actprocess`(`actid`,`processnode`,`states`)
      values( #{actId,jdbcType=INTEGER}, #{processNode,jdbcType=VARCHAR}, #{states,jdbcType=INTEGER})
    </insert>

    <update id="update">
        UPDATE `actprocess`
        set `processnode` = #{processNode,jdbcType=VARCHAR},`states`=#{states,jdbcType=INTEGER}
        where `actid` = #{actId,jdbcType=INTEGER}
    </update>

    <delete id="delByActId">
        DELETE FROM actprocess
        WHERE actid = #{actid}
    </delete>

    <update id="changeProcess">
        UPDATE actprocess SET states = #{actState.type} WHERE proid = #{actState.proid}
    </update>
</mapper>